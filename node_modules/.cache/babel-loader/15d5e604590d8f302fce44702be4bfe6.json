{"ast":null,"code":"import _slicedToArray from \"/Users/qaisar/Desktop/React_Ecommerce/ecommerce_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/qaisar/Desktop/React_Ecommerce/ecommerce_front/src/admin/AddCategory.js\";\nimport React, { useState } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from '../auth';\nimport { Link } from \"react-router-dom\";\nimport { createCategory } from './apiAdmin';\n\nconst AddCategory = () => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        success = _useState6[0],\n        setSuccess = _useState6[1]; //destructor use and token from localStorage\n\n\n  const _isAuthenticated = isAuthenticated(),\n        user = _isAuthenticated.user,\n        token = _isAuthenticated.token;\n\n  const handleChange = e => {\n    setError('');\n    setName(e.target.value);\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false); //make request to api to create Category\n\n    createCategory(user._id, token, {\n      name\n    }).then(response => {\n      console.log(\"aisar\");\n      console.log(response.data);\n\n      if (typeof response.data === 'undefined') {\n        setError(true);\n      } else {\n        setError(\"\");\n        setSuccess(true);\n      }\n    }, error => {\n      console.log(error);\n    }); // createCategory(user._id, token, { name }).then(data => {\n    //   console.log(\"data\");\n    //   console.log(data);\n    //   if (data.error) {\n    //     setError(true);\n    //   } else {\n    //     setError(\"\");\n    //     setSuccess(true);\n    //   }\n    // });\n  };\n\n  const newCategoryForm = () => React.createElement(\"form\", {\n    onSubmit: clickSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    onChange: handleChange,\n    value: name,\n    autoFocus: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Create Category\"));\n\n  const showSuccess = () => {\n    if (success) {\n      return React.createElement(\"h3\", {\n        className: \"text-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, name, \" is created\");\n    }\n  };\n\n  const showError = () => {\n    if (error) {\n      return React.createElement(\"h3\", {\n        className: \"text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Category should be unique\");\n    }\n  };\n\n  const goBack = () => React.createElement(\"div\", {\n    className: \"mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/admin/dashboard\",\n    className: \"text-warning\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Back to Dashboard\"));\n\n  return React.createElement(Layout, {\n    title: \"Add a new category\",\n    description: \"G'day \".concat(user.name, \", ready to add a new category?\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, showSuccess(), showError(), newCategoryForm(), goBack())));\n};\n\nexport default AddCategory;","map":{"version":3,"sources":["/Users/qaisar/Desktop/React_Ecommerce/ecommerce_front/src/admin/AddCategory.js"],"names":["React","useState","Layout","isAuthenticated","Link","createCategory","AddCategory","name","setName","error","setError","success","setSuccess","user","token","handleChange","e","target","value","clickSubmit","preventDefault","_id","then","response","console","log","data","newCategoryForm","showSuccess","showError","goBack"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from '../auth';\nimport { Link } from \"react-router-dom\";\nimport {createCategory} from './apiAdmin';\n\nconst AddCategory = () => {\n  const [name, setName] = useState('');\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  //destructor use and token from localStorage\n  const { user, token } = isAuthenticated();\n\n  const handleChange = (e) => {\n    setError('');\n    setName(e.target.value);\n  }\n\n  const clickSubmit = (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false);\n    //make request to api to create Category\n    createCategory(user._id, token, { name }).then((response) => {\n      console.log(\"aisar\");\n      console.log(response.data);\n      if (typeof response.data === 'undefined') {\n        setError(true);\n      }\n      else {\n        setError(\"\");\n        setSuccess(true);\n      }\n    }, (error) => {\n      console.log(error);\n    });\n    // createCategory(user._id, token, { name }).then(data => {\n    //   console.log(\"data\");\n    //   console.log(data);\n    //   if (data.error) {\n    //     setError(true);\n    //   } else {\n    //     setError(\"\");\n    //     setSuccess(true);\n    //   }\n    // });\n  }\n\n\n  const newCategoryForm = () => (\n    <form onSubmit={clickSubmit}>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          onChange={handleChange}\n          value={name}\n          autoFocus\n          required\n        />\n      </div>\n      <button className=\"btn btn-outline-primary\">Create Category</button>\n    </form>\n  );\n\n  const showSuccess = () => {\n    if (success) {\n      return <h3 className=\"text-success\">{name} is created</h3>;\n    }\n  };\n\n  const showError = () => {\n    if (error) {\n      return <h3 className=\"text-danger\">Category should be unique</h3>;\n    }\n  };\n\n  const goBack = () => (\n    <div className=\"mt-5\">\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">Back to Dashboard</Link>\n    </div>\n  );\n\n\n  return (\n    <Layout\n      title=\"Add a new category\"\n      description={`G'day ${user.name}, ready to add a new category?`}\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2\">\n        {showSuccess()}\n        {showError()}\n        {newCategoryForm()}\n        {goBack()}\n        </div>\n      </div>\n    </Layout>\n  );\n\n};\n\n\nexport default AddCategory;\n"]},"metadata":{},"sourceType":"module"}