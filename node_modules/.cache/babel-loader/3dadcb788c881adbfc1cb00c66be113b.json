{"ast":null,"code":"import _defineProperty from \"/Users/qaisar/Desktop/React_Ecommerce/ecommerce_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/qaisar/Desktop/React_Ecommerce/ecommerce_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/qaisar/Desktop/React_Ecommerce/ecommerce_front/src/user/Signup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport Layout from '../core/Layout';\nimport { API } from '../config';\nimport { Link } from \"react-router-dom\";\nimport { signup } from '../auth';\n\nconst Signup = () => {\n  const _useState = useState({\n    name: '',\n    email: '',\n    Password: '',\n    error: '',\n    success: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const name = values.name,\n        email = values.email,\n        password = values.password,\n        success = values.success,\n        error = values.error;\n\n  const handleChange = name => event => {\n    setValues(_objectSpread({}, values, {\n      error: false,\n      [name]: event.target.value\n    }));\n  }; // const signup = user => {\n  //   return fetch(`http://localhost:8000/api/signup`, {\n  //     method: \"POST\",\n  //     headers: {\n  //       Accept: \"application/json\",\n  //       \"Content-Type\": \"application/json\"\n  //     },\n  //     body: JSON.stringify(user)\n  //   })\n  //   .then(response => {\n  //     return response.json();\n  //   })\n  //   .catch(err => {\n  //     console.log(\"QAISAR: err\");\n  //     return (err);\n  //   });\n  // };\n\n\n  const clickSubmit = event => {\n    console.log(\"I m here\");\n    event.preventDefault();\n    signup({\n      name,\n      email,\n      password\n    }).then(data => {\n      console.log(\"data\");\n      console.log(data.error);\n\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error,\n          success: false\n        }));\n      } else {\n        setValues(_objectSpread({}, values, {\n          name: '',\n          email: '',\n          password: '',\n          error: '',\n          success: true\n        }));\n      }\n    });\n  };\n\n  const showError = () => React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, error);\n\n  const showSuccess = () => React.createElement(\"div\", {\n    className: \"alert alert-info\",\n    style: {\n      display: success ? '' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \" New account is created. Please \", React.createElement(Link, {\n    to: \"/signin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Sign In\"));\n\n  const signUpForm = () => React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    onChange: handleChange('name'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    onChange: handleChange('email'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    onChange: handleChange('password'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: clickSubmit,\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Submit\"));\n\n  return React.createElement(Layout, {\n    title: \"Sign Up Page\",\n    description: \"Sign Up to React E-Commerce App\",\n    className: \"contrainer col-md-8 offset-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, showSuccess(), showError(), signUpForm(), JSON.stringify(values));\n};\n\nexport default Signup;","map":{"version":3,"sources":["/Users/qaisar/Desktop/React_Ecommerce/ecommerce_front/src/user/Signup.js"],"names":["React","useState","Layout","API","Link","signup","Signup","name","email","Password","error","success","values","setValues","password","handleChange","event","target","value","clickSubmit","console","log","preventDefault","then","data","showError","display","showSuccess","signUpForm","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Layout from '../core/Layout';\nimport {API} from '../config';\nimport { Link } from \"react-router-dom\";\nimport {signup} from '../auth';\n\nconst Signup = () =>  {\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    Password: '',\n    error: '',\n    success: false,\n  })\n\n  const { name, email, password, success, error } = values\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  }\n\n  // const signup = user => {\n  //   return fetch(`http://localhost:8000/api/signup`, {\n  //     method: \"POST\",\n  //     headers: {\n  //       Accept: \"application/json\",\n  //       \"Content-Type\": \"application/json\"\n  //     },\n  //     body: JSON.stringify(user)\n  //   })\n  //   .then(response => {\n  //     return response.json();\n  //   })\n  //   .catch(err => {\n  //     console.log(\"QAISAR: err\");\n  //     return (err);\n  //   });\n  // };\n\n\n  const clickSubmit = (event) => {\n    console.log(\"I m here\");\n    event.preventDefault();\n    signup({ name, email, password })\n    .then(data => {\n      console.log(\"data\");\n      console.log(data.error);\n      if(data.error) {\n        setValues({ ...values, error: data.error, success: false })\n      }\n      else {\n        setValues({\n          ...values,\n          name: '',\n          email: '',\n          password: '',\n          error: '',\n          success: true\n        });\n      }\n    });\n  };\n\n  const showError = () => (<div className=\"alert alert-danger\" style={{display: error ? '' : 'none'} }>{error}</div>);\n\n  const showSuccess = () => (<div className=\"alert alert-info\" style={{display: success ? '' : 'none'} }> New account is created. Please <Link to='/signin'>Sign In</Link></div>);\n\n  const signUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          onChange={handleChange('name')}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          onChange={handleChange('email')}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          onChange={handleChange('password')}\n        />\n      </div>\n      <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n\n    </form>\n  )\n    return (\n      <Layout title=\"Sign Up Page\"\n              description=\"Sign Up to React E-Commerce App\"\n              className=\"contrainer col-md-8 offset-md-2\"\n      >\n        {showSuccess()}\n        {showError()}\n        {signUpForm()}\n        {JSON.stringify(values)}\n      </Layout>\n    )\n};\n\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}